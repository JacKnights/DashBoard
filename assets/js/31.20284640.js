(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{128:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"系统分析与设计课程项目easyorder数据库相关"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统分析与设计课程项目easyorder数据库相关","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统分析与设计课程项目EasyOrder数据库相关")]),n("p",[t._v("标签： 系统分析与设计")]),n("hr"),n("ul",[n("li",[t._v("7.2 database design")]),n("li",[t._v("7.2.1 用户及权限系统数据库设计")]),n("li",[t._v("7.2.2 点餐系统数据库设计")])]),n("hr"),n("h2",{attrs:{id:"_7-2-1-用户及权限系统数据库设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-1-用户及权限系统数据库设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.2.1 用户及权限系统数据库设计")]),n("p",[t._v("创建应用账户ooad，密码ooad")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("create user 'ooad'@'localhost' identified by 'ooad';\n")])]),n("p",[t._v("创建应用数据库restaurant")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("create database restaurant;\n")])]),n("p",[t._v("为应用账号ooad设置对数据库restaurant的所有权限")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("grant all on restaurant.* to 'ooad'@'localhost';\n")])]),n("hr"),n("h2",{attrs:{id:"_7-2-2-点餐系统数据库设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-2-点餐系统数据库设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.2.2 点餐系统数据库设计")]),n("p",[t._v("参考的数据库建表图表\n"),n("img",{attrs:{src:"http://static.zybuluo.com/gzm1997/jkxxl2pljvr1axm3ztu94de9/image_1cdcvj1al1qv5hrr16dv1919c2o1m.png",alt:"image_1cdcvj1al1qv5hrr16dv1919c2o1m.png-32.1kB"}})]),n("hr"),n("h2",{attrs:{id:"数据库表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库表","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库表")]),n("blockquote",[n("p",[t._v("数据库初始化使用ORM sqlalchemy，一共4个表")])]),n("ul",[n("li",[t._v("tag标签")]),n("li",[t._v("food菜")]),n("li",[t._v("comment评论")]),n("li",[t._v("reservation订单")])]),n("p",[t._v("创建一个名为model的包来创建数据结构和初始化数据库，包结构为")]),n("ul",[n("li",[t._v("model")]),n("li",[t._v("_"),n("em",[t._v("init")]),t._v("_.py")]),n("li",[t._v("base.py")]),n("li",[t._v("tag.py")]),n("li",[t._v("food.py")]),n("li",[t._v("comment.py")]),n("li",[t._v("reservation.py")]),n("li",[t._v("db_setting.py")]),n("li",[t._v("init_db.py")])]),n("p",[t._v("model包测试文件test_model.py")]),n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" model "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" init_db\n"),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),n("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"__main__"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tinit_db"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init_database"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("h2",{attrs:{id:"数据库初始化成功"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库初始化成功","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库初始化成功\n"),n("img",{attrs:{src:"http://static.zybuluo.com/gzm1997/q3zwvfp5w9ybxknx7773hm49/image_1cdcuqh4iku11qts4201f2q1lch19.png",alt:"image_1cdcuqh4iku11qts4201f2q1lch19.png-67.8kB"}})]),n("p",[t._v("tag标签")]),n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Tag")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    __tablename__ "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Tag"')]),t._v("\n    "),n("span",{attrs:{class:"token builtin"}},[t._v("id")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" primary_key "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    description "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    picture "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("p",[t._v("food菜")]),n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Food")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    __tablename__ "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Food"')]),t._v("\n    "),n("span",{attrs:{class:"token builtin"}},[t._v("id")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" primary_key "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    name "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    picture "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    price "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    description "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    rating "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    amount "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tag_id "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ForeignKey"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'Tag.id'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("p",[t._v("comment评论")]),n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Comment")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    __tablename__ "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Comment"')]),t._v("\n    comment_id "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" primary_key "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    content "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    food_id "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ForeignKey"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'Food.id'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("p",[t._v("reservation订单")]),n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Reservation")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    __tablename__ "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Reservation"')]),t._v("\n    reserve_id "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" primary_key "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    reserve_datetime "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DateTime"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" datetime"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    pay_datetime "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DateTime"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" datetime"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    table_num "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Integer"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nullable "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    food_list "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Column"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JSON"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("h2",{attrs:{id:"_7-2-x-第三方数据评审结果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-x-第三方数据评审结果","aria-hidden":"true"}},[t._v("#")]),t._v(" 7.2.x 第三方数据评审结果")]),n("p",[n("img",{attrs:{src:s(96),alt:"database comment"}}),n("img",{attrs:{src:s(95),alt:"database comment"}})])])}],o=s(0),e=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);a.default=e.exports},95:function(t,a,s){t.exports=s.p+"assets/img/database_comment2.c17a8564.png"},96:function(t,a,s){t.exports=s.p+"assets/img/database_comment1.f952db3f.png"}}]);